<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Claim Offer</title>
    <style>
        html, body {
            margin: 0;
            height: 100%;
        }
        .iframe-container {
            width: 100%;
            height: 100%;
        }
        .schedule-container {
            margin: 20px;
        }
    </style>
</head>
<body>
    <div class="iframe-container">
        <iframe
            src="https://link.derosales.com/widget/form/WHAfCqGoljYX0wn8c5jF"
            style="width:100%;height:100%;border:none;border-radius:4px"
            id="inline-WHAfCqGoljYX0wn8c5jF"
            data-layout="{'id':'INLINE'}"
            data-trigger-type="alwaysShow"
            data-trigger-value=""
            data-activation-type="alwaysActivated"
            data-activation-value=""
            data-deactivation-type="neverDeactivate"
            data-deactivation-value=""
            data-form-name="Marketing Form - Claim Offer"
            data-height="779"
            data-layout-iframe-id="inline-WHAfCqGoljYX0wn8c5jF"
            data-form-id="WHAfCqGoljYX0wn8c5jF"
            title="Marketing Form - Claim Offer">
        </iframe>
    </div>
    <div class="schedule-container">
        <label for="appointment-datetime">Select Appointment Time:</label>
        <input type="datetime-local" id="appointment-datetime">
        <button id="add-to-calendar" type="button">Add to Google Calendar</button>
    </div>
    <script src="https://link.derosales.com/js/form_embed.js"></script>
    <script>
        document.getElementById('add-to-calendar').addEventListener('click', function() {
            const input = document.getElementById('appointment-datetime').value;
            if (!input) {
                alert('Please select a date and time.');
                return;
            }
            const start = new Date(input);
            const end = new Date(start.getTime() + 60 * 60 * 1000);
            const fmt = d => d.toISOString().replace(/-|:|\.\d{3}/g, '');
            const url = `https://calendar.google.com/calendar/r/eventedit?text=Claim+Offer+Appointment&dates=${fmt(start)}/${fmt(end)}`;
            window.open(url, '_blank');
        });
    </script>
</body>
</html>
